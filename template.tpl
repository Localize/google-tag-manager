___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "displayName": "Localize TMS Integration",
  "categories": ["UTILITY"],
  "description": "This tag allows Localize customers to easily integrate the Localize code snippet into their website, without the need for adding Javascript to their site directly.",
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "thumbnail": "data:image/png;base64,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",
    "displayName": "",
    "id": "brand_dummy"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "notSetText": "Please enter the Project Key for your Localize project.",
    "help": "Enter the Project Key that was created in the Localize dashboard when you created your project.\nYou can find your key here: https://localizejs.com/project",
    "displayName": "Project Key",
    "simpleValueType": true,
    "name": "projectKey",
    "type": "TEXT"
  }
]


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://global.localizecdn.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "Localize"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Include required functions.
const log = require('logToConsole');
const injectScript = require('injectScript');
const copyFromWindow = require('copyFromWindow');

// Capture values of user provided fields.
const projectKey = data.projectKey;

// Load the Localize library asynchronously.
const url = 'https://global.localizecdn.com/localize.js';
injectScript(url, localizejsLoaded, data.gtmOnFailure, url);

// After the library is loaded, initialize it.
function localizejsLoaded() {
  log('The localize.js library is loaded. Project Key = ', projectKey);

  // Get a local copy of the global Localize object.
  var Localize = copyFromWindow('Localize');
  
  // Initialize Localize with the given options.
  Localize.initialize({
    key: projectKey,
    rememberLanguage: true
  });
  log('Localize has been initialized, version =', Localize.v);
  
  // Call data.gtmOnSuccess when the tag is finished.
  data.gtmOnSuccess();
}


___NOTES___

Created on 10/4/2019, 12:08:18 PM
